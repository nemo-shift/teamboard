# CollaBoard í”„ë¡œì íŠ¸ ê·œì¹™

## í”„ë¡œì íŠ¸ ê°œìš”

- **ì„œë¹„ìŠ¤ ì´ë¦„**: ì½œë¼ë³´ë“œ (CollaBoard)
- **í•œ ì¤„ ì†Œê°œ**: ì•„ì´ë””ì–´ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ê³µìœ í•˜ê³  í•¨ê»˜ ë°œì „ì‹œí‚¤ëŠ” ë¯¸ë‹ˆë©€ë¦¬ìŠ¤íŠ¸ ì˜¨ë¼ì¸ í™”ì´íŠ¸ë³´ë“œ
- **ì£¼ìš” ê¸°ìˆ  ìŠ¤íƒ**: Next.js 16 (App Router), Supabase (Auth, PostgreSQL DB, Realtime, Storage), TypeScript, TailwindCSS

## ì•„í‚¤í…ì²˜: Feature-Sliced Design (FSD)

ì´ í”„ë¡œì íŠ¸ëŠ” Feature-Sliced Design ì•„í‚¤í…ì²˜ë¥¼ ì—„ê²©íˆ ë”°ë¦…ë‹ˆë‹¤.

### ë ˆì´ì–´ êµ¬ì¡° ë° ì˜ì¡´ì„± ê·œì¹™

```
app â†’ pages â†’ widgets â†’ features â†’ entities â†’ shared
```

**í•µì‹¬ ì›ì¹™**: ìƒìœ„ ë ˆì´ì–´ë§Œ í•˜ìœ„ ë ˆì´ì–´ë¥¼ importí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- âœ… `pages`ì—ì„œ `widgets`, `features`, `entities`, `shared` import ê°€ëŠ¥
- âœ… `widgets`ì—ì„œ `features`, `entities`, `shared` import ê°€ëŠ¥
- âŒ `shared`ì—ì„œ `pages` import ë¶ˆê°€ëŠ¥ (ìœ„ë°˜!)

### í´ë” êµ¬ì¡°

```
src/
â”œâ”€â”€ app/          # App Layer (í”„ë¡œë°”ì´ë”)
â”œâ”€â”€ pages/        # Pages Layer (í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸)
â”œâ”€â”€ widgets/      # Widgets Layer (ë³µí•© UI ë¸”ë¡)
â”œâ”€â”€ features/     # Features Layer (ë¹„ì¦ˆë‹ˆìŠ¤ ê¸°ëŠ¥)
â”œâ”€â”€ entities/     # Entities Layer (ë¹„ì¦ˆë‹ˆìŠ¤ ì—”í‹°í‹°)
â””â”€â”€ shared/       # Shared Layer (ê³µìœ  ë¦¬ì†ŒìŠ¤)
```

## Index.ts íŒ¨í„´ (Barrel Exports)

### ëª¨ë“  í´ë”ì— index.ts ìƒì„±

ê° í´ë”ë§ˆë‹¤ `index.ts` íŒŒì¼ì„ ìƒì„±í•˜ì—¬ ëª¨ë“ˆì˜ ê³µê°œ APIë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.

### ê³„ì¸µë³„ Re-export íŒ¨í„´

**ì„¸ê·¸ë¨¼íŠ¸ë³„ index.ts ì˜ˆì‹œ:**
```typescript
// src/features/auth/ui/index.ts
export { LoginForm } from './components/login-form';
export { SignupForm } from './components/signup-form';
```

**Feature ì „ì²´ index.ts:**
```typescript
// src/features/auth/index.ts
export * from './ui';
export * from './api';
export * from './model';
export * from './lib';
```

**ë ˆì´ì–´ ì „ì²´ index.ts:**
```typescript
// src/features/index.ts
export * from './auth';
export * from './board';
export * from './content';
export * from './collaboration';
```

### ì£¼ì„ ì²˜ë¦¬ ë°©ì‹

ì•„ì§ ë‚´ìš©ì´ ì—†ìœ¼ë©´ ì£¼ì„ìœ¼ë¡œ í‘œì‹œí•©ë‹ˆë‹¤:

```typescript
// src/features/auth/index.ts
// export * from './ui';      // ì•„ì§ ì—†ìŒ (ì£¼ì„ ì²˜ë¦¬)
export * from './api';        // í™œì„±í™”ë¨
// export * from './model';   // ì•„ì§ ì—†ìŒ (ì£¼ì„ ì²˜ë¦¬)
```

**ê·œì¹™**: ë¹ˆ íŒŒì¼ì´ ì•„ë‹ˆë¼ ì£¼ì„ìœ¼ë¡œ ëª…í™•íˆ í‘œì‹œí•©ë‹ˆë‹¤.

## Import ê·œì¹™

### ê²½ë¡œ ë³„ì¹­ ì‚¬ìš© (í•„ìˆ˜)

FSD ê²½ë¡œ ë³„ì¹­ì„ ë°˜ë“œì‹œ ì‚¬ìš©í•©ë‹ˆë‹¤:

```typescript
// âœ… ì¢‹ì€ ì˜ˆ
import { supabase } from '@shared/api';
import { Header } from '@widgets/header';
import { LoginForm } from '@features/auth';
import { User } from '@entities/user';

// âŒ ë‚˜ìœ ì˜ˆ (ìƒëŒ€ ê²½ë¡œ ì‚¬ìš© ê¸ˆì§€)
import { supabase } from '../../../shared/api/supabase/client';
```

### ì‚¬ìš© ê°€ëŠ¥í•œ ê²½ë¡œ ë³„ì¹­

- `@app/*` â†’ `./src/app/*`
- `@pages/*` â†’ `./src/pages/*`
- `@widgets/*` â†’ `./src/widgets/*`
- `@features/*` â†’ `./src/features/*`
- `@entities/*` â†’ `./src/entities/*`
- `@shared/*` â†’ `./src/shared/*`

## ë ˆì´ì–´ë³„ ê°€ì´ë“œë¼ì¸

### ğŸ“ shared (ê³µìœ  ë ˆì´ì–´)
- ìì£¼ ì‚¬ìš©ë˜ë¯€ë¡œ index.ts í™œìš© ê¶Œì¥
- ì˜ˆ: `@shared/api`, `@shared/ui`, `@shared/types`

### ğŸ“¦ entities (ì—”í‹°í‹° ë ˆì´ì–´)
- ëª¨ë¸/íƒ€ì…ì„ exportí•  ë•Œë§Œ ì‚¬ìš©
- ì˜ˆ: `@entities/user`, `@entities/board`, `@entities/element`

### âš¡ features (ê¸°ëŠ¥ ë ˆì´ì–´)
- UI ì»´í¬ë„ŒíŠ¸ë‚˜ í›…ì„ exportí•  ë•Œë§Œ ì‚¬ìš©
- ì˜ˆ: `@features/auth`, `@features/board`, `@features/content`, `@features/collaboration`

### ğŸ§© widgets (ìœ„ì ¯ ë ˆì´ì–´)
- ìœ„ì ¯ ì»´í¬ë„ŒíŠ¸ë¥¼ exportí•  ë•Œë§Œ ì‚¬ìš©
- ì˜ˆ: `@widgets/header`, `@widgets/sidebar`, `@widgets/board-canvas`

### ğŸ“„ pages (í˜ì´ì§€ ë ˆì´ì–´)
- í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ë¥¼ exportí•  ë•Œë§Œ ì‚¬ìš©
- ì˜ˆ: `@pages/landing`, `@pages/dashboard`, `@pages/board`

## Featureë³„ êµ¬ì¡°

ê° featureëŠ” ë‹¤ìŒ ì„¸ê·¸ë¨¼íŠ¸ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```
feature-name/
â”œâ”€â”€ ui/          # UI ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ model/       # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§, ìƒíƒœ ê´€ë¦¬ (í›… ë“±)
â”œâ”€â”€ api/         # API í˜¸ì¶œ í•¨ìˆ˜
â”œâ”€â”€ lib/         # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â””â”€â”€ index.ts     # Public API (ê³„ì¸µë³„ re-export)
```

### Featureë³„ ì±…ì„

**auth**: ì¸ì¦ ê´€ë ¨ (ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ, Google OAuth)
**board**: ë³´ë“œ ê´€ë¦¬ (ìƒì„±/ì‚­ì œ/ìˆ˜ì •, ëª©ë¡ ì¡°íšŒ)
**content**: ì½˜í…ì¸  ìƒì„± (í¬ìŠ¤íŠ¸ì‡, ì´ë¯¸ì§€ ì—…ë¡œë“œ, ë“œë˜ê·¸ ì•¤ ë“œë¡­)
**collaboration**: ì‹¤ì‹œê°„ í˜‘ì—… (Supabase Realtime êµ¬ë…, ë™ê¸°í™”)

## Entityë³„ êµ¬ì¡°

ê° entityëŠ” ë‹¤ìŒ ì„¸ê·¸ë¨¼íŠ¸ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```
entity-name/
â”œâ”€â”€ model/       # íƒ€ì…, ì¸í„°í˜ì´ìŠ¤ ì •ì˜
â”œâ”€â”€ lib/         # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â””â”€â”€ index.ts     # Public API
```

### Entityë³„ ì±…ì„

**user**: ì‚¬ìš©ì íƒ€ì… ë° ìœ í‹¸ë¦¬í‹°
**board**: ë³´ë“œ íƒ€ì… ë° ìœ í‹¸ë¦¬í‹°
**element**: ë³´ë“œ ìš”ì†Œ íƒ€ì… (í¬ìŠ¤íŠ¸ì‡, ì´ë¯¸ì§€) ë° ìœ í‹¸ë¦¬í‹°

## Supabase ì‚¬ìš© ê·œì¹™

### í´ë¼ì´ì–¸íŠ¸ ì‚¬ìš©

```typescript
// í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ
import { supabase } from '@shared/api';

// ì„œë²„ ì‚¬ì´ë“œ
import { createSupabaseServerClient } from '@shared/api';
const supabase = await createSupabaseServerClient();
```

### ë°ì´í„° ëª¨ë¸

**boards í…Œì´ë¸”:**
- `id` (UUID)
- `name` (TEXT)
- `owner_id` (UUID, auth.users ì°¸ì¡°)
- `created_at` (TIMESTAMPTZ)

**board_elements í…Œì´ë¸”:**
- `id` (UUID)
- `board_id` (UUID, boards ì°¸ì¡°)
- `user_id` (UUID, auth.users ì°¸ì¡°)
- `type` (TEXT: 'note' ë˜ëŠ” 'image')
- `content` (TEXT)
- `position` (JSONB: {x, y})
- `size` (JSONB: {width, height})
- `color` (TEXT, nullable)
- `created_at` (TIMESTAMPTZ)

## ì½”ë”© ì»¨ë²¤ì…˜

### TypeScript
- ì—„ê²©í•œ íƒ€ì… ì‚¬ìš© (`strict: true`)
- íƒ€ì…ì€ entities ë ˆì´ì–´ì— ì •ì˜
- `any` ì‚¬ìš© ì§€ì–‘

### React ì»´í¬ë„ŒíŠ¸
- í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©
- Server Components ê¸°ë³¸ (App Router)
- Client ComponentëŠ” `'use client'` ëª…ì‹œ

### ìŠ¤íƒ€ì¼ë§
- TailwindCSS ì‚¬ìš©
- ì¸ë¼ì¸ í´ë˜ìŠ¤ ì‚¬ìš©
- ê³µí†µ ìŠ¤íƒ€ì¼ì€ shared/uiì— ì»´í¬ë„ŒíŠ¸ë¡œ ì¶”ì¶œ

### íŒŒì¼ ëª…ëª… ê·œì¹™
- ì»´í¬ë„ŒíŠ¸: PascalCase (ì˜ˆ: `LoginForm.tsx`)
- ìœ í‹¸ë¦¬í‹°: kebab-case (ì˜ˆ: `format-date.ts`)
- í›…: camelCase with 'use' prefix (ì˜ˆ: `use-auth.ts`)

## ì½”ë“œ ì‘ì„± ì‹œ ì²´í¬ë¦¬ìŠ¤íŠ¸

ìƒˆë¡œìš´ ì½”ë“œë¥¼ ì‘ì„±í•  ë•Œ:

- [ ] ì˜¬ë°”ë¥¸ ë ˆì´ì–´ì— ë°°ì¹˜í–ˆëŠ”ê°€?
- [ ] ìƒìœ„ ë ˆì´ì–´ì—ì„œë§Œ importí•˜ëŠ”ê°€?
- [ ] ê²½ë¡œ ë³„ì¹­(`@shared`, `@features` ë“±)ì„ ì‚¬ìš©í•˜ëŠ”ê°€?
- [ ] ëª¨ë“  í´ë”ì— `index.ts`ë¥¼ ìƒì„±í–ˆëŠ”ê°€?
- [ ] ì„¸ê·¸ë¨¼íŠ¸ë³„ `index.ts`ë¥¼ ìƒì„±í–ˆëŠ”ê°€?
- [ ] ìƒìœ„ `index.ts`ì—ì„œ í•˜ìœ„ë¥¼ re-exportí•˜ëŠ”ê°€?
- [ ] ì•„ì§ ë‚´ìš©ì´ ì—†ìœ¼ë©´ ì£¼ì„ìœ¼ë¡œ í‘œì‹œí–ˆëŠ”ê°€?
- [ ] FSD ì»¨ë²¤ì…˜ ë¬¸ì„œ(`docs/FSD_CONVENTIONS.md`)ë¥¼ ì°¸ê³ í–ˆëŠ”ê°€?

## ì£¼ìš” ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­

### ì‚¬ìš©ì ì¸ì¦
- Google ê³„ì • ì†Œì…œ ë¡œê·¸ì¸
- ë¡œê·¸ì¸í•œ ì‚¬ìš©ìë§Œ ë³´ë“œ ìƒì„±/ìˆ˜ì • ê°€ëŠ¥

### ë³´ë“œ ê´€ë¦¬
- ë³´ë“œ ìƒì„± (ê³ ìœ  URL: `/board/[boardId]`)
- ëŒ€ì‹œë³´ë“œì—ì„œ ë³´ë“œ ëª©ë¡ ì¡°íšŒ

### ì‹¤ì‹œê°„ í˜‘ì—…
- Supabase Realtime í™œìš©
- ëª¨ë“  ì‚¬ìš©ìì—ê²Œ ì¦‰ì‹œ ë°˜ì˜

### ì½˜í…ì¸  ì¶”ê°€
- í¬ìŠ¤íŠ¸ì‡: ë‹¤ì–‘í•œ ìƒ‰ìƒ, í…ìŠ¤íŠ¸ ì…ë ¥, ë“œë˜ê·¸ ë° í¬ê¸° ì¡°ì ˆ
- ì´ë¯¸ì§€: ì—…ë¡œë“œ, ë“œë˜ê·¸ ë° í¬ê¸° ì¡°ì ˆ (Supabase Storage)

## ëª¨ë“ˆí™” ì›ì¹™

### ì„¤ì •ê°’ ê´€ë¦¬
- í•˜ë“œì½”ë”©ëœ ê°’ì€ `lib/constants.ts`ì— ìƒìˆ˜ë¡œ ë¶„ë¦¬
- ì˜ˆ: `DEFAULT_NOTE_COLOR`, `DEFAULT_NOTE_SIZE`, `MAX_IMAGE_SIZE`

### ë°ì´í„° ì£¼ì…
- í›…ì€ `initialData` ê°™ì€ ì˜µì…˜ propsë¥¼ ë°›ì•„ ì™¸ë¶€ì—ì„œ ë°ì´í„° ì£¼ì… ê°€ëŠ¥í•˜ê²Œ
- Mock ë°ì´í„°ëŠ” ê¸°ë³¸ê°’ìœ¼ë¡œë§Œ ì‚¬ìš©, ì‹¤ì œ ë°ì´í„°ë¡œ ì‰½ê²Œ êµì²´ ê°€ëŠ¥í•´ì•¼ í•¨

### ì‚¬ìš©ì ì •ë³´
- í˜„ì¬ ì‚¬ìš©ì ì •ë³´ëŠ” í›… ë‚´ë¶€ì—ì„œ í•˜ë“œì½”ë”©í•˜ì§€ ë§ê³  propsë¡œ ë°›ê¸°
- ì¸ì¦ ì‹œìŠ¤í…œê³¼ ë¶„ë¦¬í•˜ì—¬ í…ŒìŠ¤íŠ¸ ë° ì¬ì‚¬ìš© ê°€ëŠ¥í•˜ê²Œ

### ì¬ì‚¬ìš©ì„±
- ëª¨ë“  í›…ê³¼ ì»´í¬ë„ŒíŠ¸ëŠ” ëª…í™•í•œ ì¸í„°í˜ì´ìŠ¤ì™€ ë°˜í™˜ íƒ€ì…ì„ ê°€ì ¸ì•¼ í•¨
- ìœ„ì ¯ì€ propsë¡œ ë™ì‘í•˜ë©° ë‹¤ë¥¸ ê³³ì—ì„œë„ ì‚¬ìš© ê°€ëŠ¥í•´ì•¼ í•¨
- FeaturesëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ë§Œ ë‹´ë‹¹, UIëŠ” widgetsë¡œ ë¶„ë¦¬

## ì°¸ê³  ë¬¸ì„œ

- FSD ì»¨ë²¤ì…˜: `docs/FSD_CONVENTIONS.md`
- FSD ì½”ë”© ê°€ì´ë“œ: `docs/FSD_CODING_GUIDE.md`
- Supabase ì„¤ì •: `supabase/README.md`
- MCP ì„¤ì •: `docs/MCP_SETUP.md`

